<form [formGroup]="employeeForm" (ngSubmit)="submit()">
  <ion-item>
    <ion-label position="floating">Name</ion-label>
    <ion-input formControlName="name"></ion-input>
  </ion-item>
  <ion-text color="danger" *ngIf="f['name'].touched && f['name'].invalid">
    <small *ngIf="f['name'].errors?.['required']">Name is required</small>
    <small *ngIf="f['name'].errors?.['maxlength']">Max 100 chars</small>
  </ion-text>

  <ion-item>
    <ion-label position="floating">Email</ion-label>
    <ion-input formControlName="email" type="email"></ion-input>
  </ion-item>
  <ion-text color="danger" *ngIf="f['email'].touched && f['email'].invalid">
    <small *ngIf="f['email'].errors?.['required']">Email is required</small>
    <small *ngIf="f['email'].errors?.['invalidEmail']">Invalid Email</small>
    <small *ngIf="f['email'].errors?.['maxlength']">Max 50 chars</small>
  </ion-text>

  <ion-item>
    <ion-label position="floating">Position</ion-label>
    <ion-input formControlName="position"></ion-input>
  </ion-item>
  <ion-text color="danger" *ngIf="f['position'].touched && f['position'].invalid">
    <small *ngIf="f['position'].errors?.['required']">Position is required</small>
    <small *ngIf="f['position'].errors?.['maxlength']">Max 50 chars</small>
  </ion-text>

  <ion-item>
    <ion-label position="floating">Salary</ion-label>
    <ion-input formControlName="salary" type="number"></ion-input>
  </ion-item>
  <ion-text color="danger" *ngIf="f['salary'].touched && f['salary'].invalid">
    <small *ngIf="f['salary'].errors?.['required']">Salary is required</small>
    <small *ngIf="f['salary'].errors?.['min']">Salary must be >= 0</small>
  </ion-text>

  <ion-item>
    <ion-label position="floating">Join Date</ion-label>
    <ion-datetime display-format="YYYY-MM-DD" formControlName="joinDate"></ion-datetime>
  </ion-item>
  <ion-text color="danger" *ngIf="f['joinDate'].touched && f['joinDate'].invalid">
    <small *ngIf="f['joinDate'].errors?.['required']">Join date is required</small>
    <small *ngIf="f['joinDate'].errors?.['pastDate']">Cannot select past date</small>
  </ion-text>

  <ion-button expand="full" type="submit" [disabled]="employeeForm.invalid || isSubmitting">
    {{ employee ? 'Update' : 'Add' }} Employee
  </ion-button>
</form>
